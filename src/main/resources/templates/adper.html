<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="utf-8">
<link rel="icon" href="../images/all-users.ico" type="image/x-icon">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>App SP</title>
<!-- Tell the browser to be responsive to screen width -->
<meta
	content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"
	name="viewport">
<!-- Bootstrap 3.3.6 -->
<link rel="stylesheet" href="/css/bootstrap.min.css">
<link rel="stylesheet"
	href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
<!-- Ionicons -->
<link rel="stylesheet"
	href="https://cdnjs.cloudflare.com/ajax/libs/ionicons/2.0.1/css/ionicons.min.css">
<!-- Theme style -->
<link rel="stylesheet" href="/css/AdminLTE.min.css">
<link rel="stylesheet" href="/css/_all-skins.min.css">
<link rel="stylesheet" href="/css/datepicker3.css">
<!-- Theme style -->
<!-- iCheck -->
<link rel="stylesheet" href="/css/blue.css">
<!-- Morris chart -->
<link rel="stylesheet" href="/css/morris.css">
<!-- bootstrap wysihtml5 - text editor -->
<link rel="stylesheet" href="/css/bootstrap3-wysihtml5.min.css">
<!--[if lt IE 9]>
	<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
	<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.11.2/moment.min.js"></script>
	<![endif]-->
</head>
<body class="hold-transition skin-blue sidebar-mini">
	<div class="wrapper">

		<header class="main-header">
			<!-- Logo -->
			<a th:href="@{/home}" class="logo"> <!-- mini logo for sidebar mini 50x50 pixels -->
				<span class="logo-mini"><b>M</b>RT</span> <!-- logo for regular state and mobile devices -->
				<span class="logo-lg" th:utext="${rol.nomrol}"> </span>

			</a>
			<!-- Header Navbar: style can be found in header.less -->
			<nav class="navbar navbar-static-top">
				<!-- Sidebar toggle button-->
				<a href="#" class="sidebar-toggle" data-toggle="offcanvas"
					role="button"> <span class="sr-only">Toggle navigation</span> <span
					class="icon-bar"></span> <span class="icon-bar"></span> <span
					class="icon-bar"></span>
				</a>

				<div class="navbar-custom-menu">
					<ul class="nav navbar-nav">
						<!-- User Account: style can be found in dropdown.less -->
						<li class="dropdown user user-menu"><a href="#"
							class="dropdown-toggle" data-toggle="dropdown"> <img
								th:if="${persona.sexo== 'Masculino'}" src="/images/avatar5.png"
								class="user-image" alt="User Image"> <img
								th:if="${persona.sexo== 'Femenino'}" src="/images/avatar2.png"
								class="user-image" alt="User Image"> <span
								class="hidden-xs" th:utext="${persona.nombres}"></span>
						</a>
							<ul class="dropdown-menu">
								<!-- User image -->
								<li class="user-header"><img
									th:if="${persona.sexo== 'Masculino'}" src="/images/avatar5.png"
									class="img-circle" alt="User Image"> <img
									th:if="${persona.sexo== 'Femenino'}" src="/images/avatar2.png"
									class="img-circle" alt="User Image">
									<p>
										<span class="hidden-xs"
											th:utext="|${persona.nombres}  ${persona.apellidos}|"></span>
										<small><span class="hidden-xs"
											th:utext="${user.correo}"></span></small>
									</p></li>
								<!-- Menu Body --
                            <!-- Menu Footer-->
								<li class="user-footer">
									<div class="pull-left">
										<a th:href="@{/myprofile/inf}"
											class="btn btn-primary btn-flat">Profile</a>
									</div>
									<div class="col-xs-offset-1 col-xs-4 text-center">
										<a
											th:href="@{/myprofile/change_password(id=${user.idusuario})}"><i
											class="fa fa-gears"></i> Change Password</a>
									</div>
									<div class="pull-right">
										<a th:href="@{/logout}" class="btn btn-danger btn-flat">Sign
											out</a>
									</div>
								</li>
							</ul></li>
					</ul>
				</div>
			</nav>
		</header>
		<!-- Left side column. contains the logo and sidebar -->
		<aside class="main-sidebar">
			<!-- sidebar: style can be found in sidebar.less -->
			<section class="sidebar">
				<!-- Sidebar user panel -->
				<div class="user-panel">
					<div class="pull-left image">
						<img th:if="${persona.sexo== 'Masculino'}"
							src="/images/avatar5.png" class="img-circle" alt="User Image">
						<img th:if="${persona.sexo== 'Femenino'}"
							src="/images/avatar2.png" class="img-circle" alt="User Image">
					</div>
					<div class="pull-left info">
						<p>
							<span class="hidden-xs" th:utext="${persona.nombres}"></span>
						</p>
					</div>
				</div>
				<!-- search form -->
				<form action="#" method="get" class="sidebar-form">
					<div class="input-group">
						<input type="text" name="q" class="form-control"
							placeholder="Search..."> <span class="input-group-btn">
							<button type="submit" name="search" id="search-btn"
								class="btn btn-flat">
								<i class="fa fa-search"></i>
							</button>
						</span>
					</div>
				</form>
				<!-- /.search form -->
				<!-- sidebar menu: : style can be found in sidebar.less -->
				<ul class="sidebar-menu">
					<li class="header">MAIN NAVIGATION</li>
					<li class="treeview"><a th:href="@{/home}"> <i
							class="fa fa-home text-yellow"></i> <span>Home Page</span> <span
							class="pull-right-container"></span>
					</a></li>
					<li th:if="${control != 'ADMIN'}" class="treeview"><a
						th:href="@{/myprofile/inf}"> <i class="fa fa-gears text-blue"></i><span>Profile
								Settings</span> <span class="pull-right-container"> </span>
					</a></li>
					<li th:if="${control == 'ADMIN'}" class="treeview"><a href="#">
							<i class="fa fa-users text-purple"></i> <span>Usuarios</span> <span
							class="pull-right-container"> <i
								class="fa fa-angle-left pull-right"></i>
						</span>
					</a>
						<ul class="treeview-menu">
							<li><a th:href="@{/persons/new}"><i class="fa fa-plus"></i>
									New Usuario</a></li>
							<li><a th:href="@{/persons/listar}"><i
									class="fa fa-file-text"></i> All Usuarios</a></li>
						</ul></li>
					<li th:if="${control == 'ADMIN'}" class="treeview"><a href="#">
							<i class="fa fa-tasks text-warning"></i> <span>Actividades</span>
							<span class="pull-right-container"> <i
								class="fa fa-angle-left pull-right"></i>
						</span>
					</a>
						<ul class="treeview-menu">
							<li><a th:href="@{/activitis/new}"><i
									class="fa fa-plus"></i> New Actividad</a></li>
							<li><a th:href="@{/activitis/listar}"><i
									class="fa fa-file-text"></i> All Actividades</a></li>
						</ul></li>
					<li th:if="${control != 'ADMIN'}" class="treeview"><a href="#"><i
							class="fa fa-odnoklassniki text-blue"></i> <span>Mis
								Asistencias</span> <span class="pull-right-container"> <i
								class="fa fa-angle-left pull-right"></i>
						</span> </a>
						<ul class="treeview-menu">
							<li><a th:href="@{/admin/roles/new}"><i
									class="fa fa-plus"></i> Registrar Asistencia</a></li>
							<li><a th:href="@{/users/tables/all(id=${user.idusuario})}"><i
									class="fa fa-odnoklassniki"></i> All Asistencias</a></li>
						</ul></li>
					<li th:if="${control == 'ADMIN'}" class="treeview"><a href="#">
							<i class="fa fa-newspaper-o text-success"></i> <span>Asistencias</span>
							<span class="pull-right-container"> <i
								class="fa fa-angle-left pull-right"></i>
						</span>
					</a>
						<ul class="treeview-menu">
							<li><a th:href="@{/asistencias/new}"><i
									class="fa fa-plus"></i> New Asistencia</a></li>
							<li><a th:href="@{/asistencias/listar}"><i
									class="fa fa-file-text"></i> All Asistencias</a></li>
						</ul></li>
					<li th:if="${control == 'ADMIN'}" class="treeview"><a href="#">
							<i class="fa fa-bar-chart text-info"></i> <span> Reportes</span> <span
							class="pull-right-container"> <i
								class="fa fa-angle-left pull-right "></i>
						</span>
					</a>
						<ul class="treeview-menu">
							<li><a th:href="@{/reportes/actividades}"><i
									class="fa fa-laptop"></i> Asistencias</a></li>
							<li><a th:href="@{/reportes/actividades}"><i
									class="fa fa-files-o"></i> Actividades</a></li>
						</ul></li>

				</ul>
				<!-- /.menu -->
			</section>
			<!-- /.sidebar -->
		</aside>

		<!-- Content Wrapper. Contains page content -->
		<div class="content-wrapper">
			<!-- Content Header (Page header) -->
			<section class="content-header">
				<h1 th:utext="${titulo}"></h1>
			</section>
			<!-- content -->
			<section th:if="${mode == 'MODE_LISTAR'}" class="content">
				<div class="row">
					<div class="col-xs-12">
						<div class="box">
							<!-- /.box-header -->
							<div class="box-body">
								<table id="example1" class="table table-bordered table-striped">
									<thead>
										<tr class="table-active">
											<th>Nombres y Apellidos</th>
											<th>Correo</th>
											<th>Sexo</th>
											<th>Edad</th>
											<th>DNI</th>
											<th>Centro de Estudios</th>
											<th>Carrera</th>
											<th>Rol</th>
											<th>Departamento</th>
											<th>Distrito</th>
											<th>Editar</th>
											<th>Eliminar</th>
										</tr>
									</thead>
									<tbody>
										<tr th:each="user : ${users}">
											<td th:text="|${user.nombres} ${user.apellidos}|"></td>
											<td th:text="${user.correo}"></td>
											<td th:text="${user.sexo}"></td>
											<td th:text="${user.edad}"></td>
											<td th:text="${user.dni}"></td>
											<td th:text="${user.centro_estudios}"></td>
											<td th:text="${user.carrera}"></td>
											<td th:text="${user.nomrol}"></td>
											<td th:text="${user.nom_dpto}"></td>
											<td th:text="${user.nomdistrito}"></td>

											<td><a href="#"><span
													class="glyphicon glyphicon-pencil"></span> EDIT</a></td>
											<td><a href="#"><span
													class="glyphicon glyphicon-trash"></span> DELETE</a></td>
										</tr>
									</tbody>
								</table>
							</div>
							<!-- /.box-body -->
						</div>
						<!-- /.box -->
					</div>
					<!-- /.col -->
				</div>
				<!-- /.row -->
			</section>
			<!-- create -->
			<div th:if="${mode == 'MODE_CREATE'}" class="container"
				style="max-width: 800px; margin-top: 50px">
				<div class="panel panel-info">
					<div class="panel-heading">
						<h4>Registro Promotor</h4>
					</div>
					<div class="panel-body">

						<div class="row">
							<form autocomplete="off" action="#" th:action="@{/persons/add}"
								th:object="${datos}" method="post" class="form-horizontal"
								role="form">
								<div class="col-md-6">
									<!-- izquierda -->
									<div class="input-group" style="margin-bottom: 10px">
										<span class="input-group-addon"><i
											class="fa fa-user fa fa-fw" aria-hidden="true"></i></span> <input
											type="text" placeholder="Nombres" class="form-control"
											th:field="*{nombres}" /> <label
											th:if="${#fields.hasErrors('nombres')}"
											th:errors="*{nombres}" class="validation-message"></label>
									</div>
									<div class="input-group" style="margin-bottom: 10px">
										<span class="input-group-addon"><i
											class="fa fa-id-card-o fa-fw " aria-hidden="true"></i></span> <input
											type="text" placeholder="dni" class="form-control"
											th:field="*{dni}" /><label
											th:if="${#fields.hasErrors('dni')}"
											th:errors="*{dni}" class="validation-message"></label>
									</div>
									<div class="form-group" style="margin-bottom: 10px; margin-left: 0px">
										<select class="form-control" style="width: 355px"
											required="required" th:field="*{iddistrito}">
											<option value="0">Selecionar Distrito</option>
											<option th:each="distrito: ${distritos}"
												th:value="${distrito.iddistrito}" th:text="${distrito.nomdistrito}"
												value=""></option>
										</select>
									</div>
									<div class="input-group" style="margin-bottom: 10px">
										<span class="input-group-addon"><i
											class="fa fa-university fa-fw" aria-hidden="true"></i></span> <input
											type="text" placeholder="Centro de Estudios"
											class="form-control" required="required"
											th:field="*{cestudios}" /> <label
											th:if="${#fields.hasErrors('cestudios')}"
											th:errors="*{cestudios}" class="validation-message"></label>
									</div>
									<div class="input-group" style="margin-bottom: 10px">
										<span class="input-group-addon"><i
											class="fa fa-graduation-cap fa-fw" aria-hidden="true"></i></span> <input
											type="text" placeholder="Carrera" class="form-control"
											required="required" th:field="*{carrera}" /> <label
											th:if="${#fields.hasErrors('carrera')}"
											th:errors="*{carrera}" class="validation-message"></label>
									</div>
									<div class="input-group" style="margin-bottom: 10px">
										<span class="input-group-addon"><i
											class="fa fa-key fa-fw" aria-hidden="true"></i></span> <input
											type="password" placeholder="Password" class="form-control"
											th:field="*{password}" /> <label
											th:if="${#fields.hasErrors('password')}"
											th:errors="*{password}" class="validation-message"></label>
									</div>
									<div class="form-group" style="margin-bottom: 10px; margin-left: 0px">
										<select class="form-control" style="width: 355px"
											required="required" th:field="*{idrol}">
											<option value="0">Selecionar Rol</option>
											<option th:each="roles: ${roles}"
												th:value="${roles.idrol}" th:text="${roles.nomrol}"
												value="" th:selected="${roles.nomrol == 'USER'}"></option>
										</select>
								</div>
								</div>
								<!-- fin izquierda -->
								<div class="col-md-6">
									<!-- derecha -->
									<div class="input-group" style="margin-bottom: 10px">
										<span class="input-group-addon"><i
											class="fa fa-user fa fa-fw" aria-hidden="true"></i></span> <input
											type="text" placeholder="Apellidos" class="form-control"
											required="required" th:field="*{apellidos}" /> <label
											th:if="${#fields.hasErrors('apellidos')}"
											th:errors="*{apellidos}" class="validation-message"></label>
									</div>
									<div class="input-group" style="margin-bottom: 10px">
										<span class="input-group-addon"><i
											class="fa fa-envelope fa" aria-hidden="true"></i></span> <input
											type="email" placeholder="Email" class="form-control"
											th:field="*{correo}" required="required" /> <label
											th:if="${#fields.hasErrors('apellidos')}"
											th:errors="*{apellidos}" class="validation-message"></label>
									</div>
									
									<div class="input-group" style="margin-bottom: 16px">
										<span class="input-group-addon"><i
											class="fa fa-address-book-o " aria-hidden="true"></i></span> <input
											type="number" placeholder="Edad" class="form-control"
											th:field="*{edad}" required="required" max="40" /> <label
											th:if="${#fields.hasErrors('edad')}" th:errors="*{edad}"
											class="validation-message"></label>
									</div>
									<div class="form-check" style="margin-bottom: 10px">
										<input class="form-check-input" type="radio" name="sexo"
											id="mas" value="Masculino" th:field="*{sexo}"> <label
											class="form-check-label" for="exampleRadios2">
											Masculino</label> <input class="form-check-input" type="radio"
											name="sexo" id="fem" value="Femenino" th:field="*{sexo}">
										<label class="form-check-label" for="exampleRadios2">
											Femenino</label> <label th:if="${#fields.hasErrors('sexo')}"
											th:errors="*{sexo}" class="validation-message"></label>
									</div>
									<div class="input-group" style="margin-bottom: 10px">
										<span class="input-group-addon"><i class="fa fa-phone "
											aria-hidden="true"></i></span> <input type="tel"
											placeholder="teléfono" class="form-control"
											th:field="*{telefono}" required="required" pattern="\d*"
											maxlength="9" /> <label
											th:if="${#fields.hasErrors('telefono')}"
											th:errors="*{telefono}" class="validation-message"></label>
									</div>
									<div class="form-inline" style="margin-bottom: 10px">
										<select class="form-control" style="width: 175px"
											th:field="*{periodo1}" required="required">
											<option value="0">Periodo 1</option>
											<option value="2021">2021</option>
											<option value="2020">2020</option>
											<option value="2019">2019</option>
											<option value="2018">2018</option>
											<option value="2017">2017</option>
											<option value="2016">2016</option>
											<option value="2015">2015</option>
											<option value="2014">2014</option>
											<option value="2013">2013</option>
											<option value="2012">2012</option>
										</select> <label th:if="${#fields.hasErrors('periodo1')}"
											th:errors="*{periodo1}" class="validation-message"></label> <select
											class="form-control" style="width: 175px"
											th:field="*{periodo2}" required="required">
											<option value="0">Periodo 2</option>
											<option value="2021">2021</option>
											<option value="2020">2020</option>
											<option value="2019">2019</option>
											<option value="2018">2018</option>
											<option value="2017">2017</option>
											<option value="2016">2016</option>
											<option value="2015">2015</option>
											<option value="2014">2014</option>
											<option value="2013">2013</option>
											<option value="2012">2012</option>
										</select> <label th:if="${#fields.hasErrors('periodo2')}"
											th:errors="*{nombres}" class="validation-message"></label>
									</div>
									<div class="form-group">
										<input type="submit" value="Registrar" class="btn btn-primary" style="margin-left: 15px">
									</div>
								</div>
								<!-- fin derecha -->
							</form>
						</div>
					</div>
				</div>
			</div>
			<!-- create -->
			<!-- /.content -->
		</div>
		<div class="control-sidebar-bg"></div>
	</div>
	<!-- jQuery 2.2.3 -->
	<script src="/js/jquery-2.2.3.min.js"></script>
	<!-- Bootstrap 3.3.6 -->
	<script src="/js/bootstrap.min.js"></script>
	<!-- DataTables -->

	<!-- SlimScroll -->
	<script src="/js/jquery.slimscroll.min.js"></script>
	<!-- FastClick -->
	<script src="/js/fastclick.js"></script>
	<!-- AdminLTE App -->
	<script src="/js/app.min.js"></script>
	<!-- AdminLTE for demo purposes -->
	<script src="/js/demo.js"></script>
	<!-- page script -->
	<script src="/js/jquery.dataTables.min.js"></script>
	<script src="/js/dataTables.bootstrap.min.js"></script>
	<script>
		$(function() {
			$('#example1').DataTable({
				"ordering" : false
			});
			$('#table2').DataTable();
		});
	</script>
</body>
</html>